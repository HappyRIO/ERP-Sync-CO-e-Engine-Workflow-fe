# Reseller Role - FAQ and Feature Summary

## 1. Booking Page for Resellers

**Question:** Is the booking page needed for resellers?

**Answer:** YES, the booking page is essential for resellers. Here's why:
- Resellers create bookings on behalf of their clients
- This is a core part of their role: onboarding clients and facilitating ITAD services
- Resellers select which client the booking is for, then enter site details
- All ITAD operations (collection, sanitisation, grading, disposal) are handled by Reuse (admin)

**Fixes Applied:**
- ✅ Removed back button in Step 1 (no need to go back from the first step)
- ✅ Fixed continue button validation - now properly checks all required fields with trim() to handle whitespace
- ✅ Added client selection dropdown for resellers at the start of Step 1

## 2. White-Label Branding Section

**Question:** Why was the white-label section removed? How do resellers set logo, color, domain, etc.?

**Answer:** The section was temporarily removed but has now been restored with proper subdomain-based explanation.

**How It Works:**
- **Subdomain-based branding:** Each reseller has their own subdomain (e.g., `techcorp.platform.com`)
- **Branding applies automatically** to their subdomain and all client portals accessed through it
- **Settings location:** Resellers can configure branding in Settings → "Branding & White-Label" section
- **What can be configured:**
  - Logo (upload)
  - Primary color (hex code)
  - Accent color (hex code)
  - Favicon (upload)

**Note:** Custom domains are NOT supported in Phase 1. All branding is subdomain-based.

**Fixes Applied:**
- ✅ Restored "Branding & White-Label" section in Settings for resellers
- ✅ Added explanation about subdomain-based branding
- ✅ Shows current subdomain in the description
- ✅ Includes fields for logo, primary color, accent color, and favicon

## 3. Invoice Management

**Question:** Who manages invoices and updates the status?

**Answer:**
- **Invoice Creation:** Invoices are automatically generated by Reuse (admin) when jobs are completed
- **Invoice Status Updates:** 
  - Status is managed by Reuse (admin) or automatically updated when payments are processed
  - Clients can only VIEW and DOWNLOAD invoices (read-only)
  - Resellers currently don't see invoices (they see commission instead)
- **Invoice Purpose:** Invoices represent the buyback amount paid to clients for their assets

**Current Implementation:**
- Clients: Can view and download their invoices
- Resellers: Don't see invoices (they track commission on completed transactions)
- Admin: Can view all invoices and manage status

## 4. Feature Review for Resellers

### ✅ Features Resellers SHOULD Have (Currently Implemented):

1. **Dashboard** - View client-scoped statistics
2. **Client Management** (`/clients`) - Onboard and manage clients
3. **Booking Creation** (`/booking`) - Create bookings on behalf of clients
4. **Bookings History** (`/bookings`) - View all bookings for their clients
5. **Jobs View** (`/jobs`) - View jobs for their clients (read-only, no ITAD execution)
6. **Commission Tracking** (`/commission`) - View commission and earnings
7. **CO₂e Dashboard** (`/co2e`) - View aggregated environmental impact for their clients
8. **Documents** (`/documents`) - View client-related documents
9. **Settings** - Configure organisation details and branding

### ❌ Features Resellers Should NOT Have (Correctly Removed/Restricted):

1. **Sites Management** - Removed (clients manage their own sites)
2. **ITAD Execution Screens** - Blocked (sanitisation, grading, approval are admin-only)
3. **Invoice Management** - Not needed (resellers see commission, not invoices)
4. **User Management** - Not needed (admin-only)

### ⚠️ Potential Missing Features (To Consider):

1. **Client Invitation Flow** - Resellers should be able to invite clients
   - Currently: Clients can be added via Clients page, but invitation flow might need enhancement
   
2. **Booking Templates** - For resellers who create similar bookings frequently
   - Not currently implemented, but could be useful

3. **Client Activity Dashboard** - Overview of all client activity
   - Partially covered by Dashboard, but could be more detailed

## Summary of Changes Made

### Booking Page:
- ✅ Removed back button in Step 1
- ✅ Fixed continue button validation (now uses trim() and proper field checks)
- ✅ Added client selection for resellers
- ✅ Improved validation logic

### Settings Page:
- ✅ Restored "Branding & White-Label" section for resellers
- ✅ Added subdomain explanation
- ✅ Added favicon upload option
- ✅ Clear indication that branding is subdomain-based

### Invoice Page:
- ✅ Added note explaining that invoices are managed by Reuse
- ✅ Clarified that status updates are automatic

### Other:
- ✅ Fixed duplicate import in Jobs.tsx
- ✅ All builds passing successfully

## Next Steps / Recommendations

1. **Client Invitation:** Consider adding a dedicated "Invite Client" button/flow in the Clients page
2. **Booking Templates:** Consider adding ability to save booking templates for resellers
3. **Commission Details:** Ensure commission page shows all relevant details for resellers
4. **Client Onboarding:** Consider adding a guided onboarding flow for new clients

